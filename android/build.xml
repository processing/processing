<?xml version="1.0" encoding="UTF-8"?>

<!-- This isn't yet completely baked. You might call it half. -->

<project default="build" name="Create .zip file for core">

  <property environment="env" />

  <target name="build" if="env.ANDROID_SDK">
    <mkdir dir="core/bin" />
    <javac encoding="UTF-8"
	   includeAntRuntime="false"
	   bootclasspath="${env.ANDROID_SDK}/platforms/android-2.0/android.jar"
	   srcdir="core/src" destdir="core/bin"/>

    <zip destfile="core.zip">
      <fileset dir="core/bin" includes="processing/android/core/*.class" />
      <fileset dir="core/bin" includes="processing/android/opengl/*.class" />
      <fileset dir="core/bin" includes="processing/android/xml/*.class" />
    </zip>
  </target>

  <target name="clean" if="env.ANDROID_SDK"
	  description="Clean out the build directories">
    <delete dir="core/bin" />
    <delete file="core.zip" />
  </target>
</project>
