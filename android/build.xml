<?xml version="1.0" encoding="UTF-8"?>

<!-- This isn't yet completely baked. You might call it half. -->

<project default="build" name="Create .zip file for core">

  <property environment="env" />

  <target name="build" if="env.ANDROID_SDK">
    <mkdir dir="core/bin" />
    <javac target="1.5" 
	   encoding="UTF-8"
	   includeAntRuntime="false"
	   bootclasspath="${env.ANDROID_SDK}/platforms/android-7/android.jar"
	   srcdir="core/src" destdir="core/bin" />

<!--
    <delete file="core.zip" />
    <zip destfile="core.zip">
      <fileset dir="core/bin" includes="processing/core/*.class" />
      <fileset dir="core/bin" includes="processing/xml/*.class" />
    </zip>
-->

<!--    <delete file="core.zip" />-->
    <jar basedir="core/bin" destfile="core.zip" />

<!--
    <mkdir dir="tool/bin" />
    <javac encoding="UTF-8"
	   includeAntRuntime="false"
	   srcdir="tool/src" destdir="tool/bin" />
    -->
  </target>

  <target name="clean" if="env.ANDROID_SDK"
	  description="Clean out the build directories">
    <delete dir="core/bin" />
    <delete file="core.zip" />
  </target>
</project>
