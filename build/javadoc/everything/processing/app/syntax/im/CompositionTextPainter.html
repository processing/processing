<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<title>CompositionTextPainter</title>
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="CompositionTextPainter";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../processing/app/syntax/im/CompositionTextManager.html" title="class in processing.app.syntax.im"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../processing/app/syntax/im/InputMethodSupport.html" title="class in processing.app.syntax.im"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?processing/app/syntax/im/CompositionTextPainter.html" target="_top">Frames</a></li>
<li><a href="CompositionTextPainter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">processing.app.syntax.im</div>
<h2 title="Class CompositionTextPainter" class="title">Class CompositionTextPainter</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>processing.app.syntax.im.CompositionTextPainter</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">CompositionTextPainter</span>
extends java.lang.Object</pre>
<div class="block">Paint texts from input method. Text via input method are transmitted by 
 AttributedCaharacterIterator. This class helps the PDE's TextAreaPainter  
 to handle AttributedCaharacterIterator.
 
 For practical purposes, paint to textarea is done by TextLayout class.
 Because TextLayout class is easy to draw composing texts. (For example, 
 draw underline composing texts, focus when select from candidates text.)</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../processing/app/syntax/im/CompositionTextPainter.html#CompositionTextPainter(processing.app.syntax.JEditTextArea)">CompositionTextPainter</a></strong>(<a href="../../../../processing/app/syntax/JEditTextArea.html" title="class in processing.app.syntax">JEditTextArea</a>&nbsp;textArea)</code>
<div class="block">Constructor for painter.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../processing/app/syntax/im/CompositionTextPainter.html#draw(java.awt.Graphics, java.awt.Color)">draw</a></strong>(java.awt.Graphics&nbsp;gfx,
    java.awt.Color&nbsp;fillBackGroundColor)</code>
<div class="block">Draw text via input method with composed text information.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../processing/app/syntax/im/CompositionTextPainter.html#hasComposedTextLayout()">hasComposedTextLayout</a></strong>()</code>
<div class="block">Check the painter has TextLayout.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../processing/app/syntax/im/CompositionTextPainter.html#invalidateComposedTextLayout(int)">invalidateComposedTextLayout</a></strong>(int&nbsp;composedEndCaretPosition)</code>
<div class="block">Invalidate this TextLayout to set null.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../processing/app/syntax/im/CompositionTextPainter.html#setComposedTextLayout(java.awt.font.TextLayout, int)">setComposedTextLayout</a></strong>(java.awt.font.TextLayout&nbsp;composedTextLayout,
                     int&nbsp;composedStartCaretPosition)</code>
<div class="block">Set TextLayout to the painter.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="CompositionTextPainter(processing.app.syntax.JEditTextArea)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>CompositionTextPainter</h4>
<pre>public&nbsp;CompositionTextPainter(<a href="../../../../processing/app/syntax/JEditTextArea.html" title="class in processing.app.syntax">JEditTextArea</a>&nbsp;textArea)</pre>
<div class="block">Constructor for painter.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>textarea</code> - textarea used by PDE.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="hasComposedTextLayout()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>hasComposedTextLayout</h4>
<pre>public&nbsp;boolean&nbsp;hasComposedTextLayout()</pre>
<div class="block">Check the painter has TextLayout.
 If a user input via InputMethod, this result will return true.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>textarea</code> - textarea used by PDE.</dd></dl>
</li>
</ul>
<a name="setComposedTextLayout(java.awt.font.TextLayout, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setComposedTextLayout</h4>
<pre>public&nbsp;void&nbsp;setComposedTextLayout(java.awt.font.TextLayout&nbsp;composedTextLayout,
                         int&nbsp;composedStartCaretPosition)</pre>
<div class="block">Set TextLayout to the painter.
 TextLayout will be created and set by CompositionTextManager.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>textarea</code> - textarea used by PDE.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../processing/app/syntax/im/CompositionTextManager.html" title="class in processing.app.syntax.im"><code>CompositionTextManager</code></a></dd></dl>
</li>
</ul>
<a name="invalidateComposedTextLayout(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>invalidateComposedTextLayout</h4>
<pre>public&nbsp;void&nbsp;invalidateComposedTextLayout(int&nbsp;composedEndCaretPosition)</pre>
<div class="block">Invalidate this TextLayout to set null.
 If a user end input via InputMethod, this method will called from CompositionTextManager.endCompositionText</div>
</li>
</ul>
<a name="draw(java.awt.Graphics, java.awt.Color)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>draw</h4>
<pre>public&nbsp;void&nbsp;draw(java.awt.Graphics&nbsp;gfx,
        java.awt.Color&nbsp;fillBackGroundColor)</pre>
<div class="block">Draw text via input method with composed text information.
 This method can draw texts with some underlines to illustrate converting characters. 
 
 This method is workaround for TextAreaPainter.
 Because, TextAreaPainter can't treat AttributedCharacterIterator directly.
 AttributedCharacterIterator has very important information when composing text.
 It has a map where are converted characters and committed characters.
 Ideally, changing TextAreaPainter method can treat AttributedCharacterIterator is better. But it's very tough!!
 So I choose to write some code as a workaround.
 
 This draw method is proceeded with the following steps.
 1. Original TextAreaPainter draws characters. 
 2. This refillComposedArea method erase previous paint characters by textarea's background color.
    The refill area is only square that width and height defined by characters with input method.
 3. CompositionTextPainter.draw method paints composed text. It was actually drawn by TextLayout.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>gfx</code> - set TextAreaPainter's Graphics object.</dd><dd><code>fillBackGroundColor</code> - set textarea's background.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../processing/app/syntax/im/CompositionTextManager.html" title="class in processing.app.syntax.im"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../../processing/app/syntax/im/InputMethodSupport.html" title="class in processing.app.syntax.im"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?processing/app/syntax/im/CompositionTextPainter.html" target="_top">Frames</a></li>
<li><a href="CompositionTextPainter.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
