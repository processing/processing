0059
X write p5 language spec


..................................................................


lotsa video issues
_ just locks up after running examples, then does the 'can't delete' thing
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1060313779
_ first row of video pixels are black
_   casey says it may only be his camera
_ video.pixels don't seem to have high bytes set
_   so fill(video.pixels[blah]) doesn't work
_   test against 'pixels' example
_ qtjava search path is too fragile
_   use %WINDIR%\System32\qtjava.zip and %QTJAVA% (may have spaces)
_   or even the system %CLASSPATH%
_   maybe just ask user to select the file directly
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1060295867;start=0

_ p5 not working in msjvm (prolly non-1.1 code)
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1060792938

_ jedittextarea caret blinks even w/o focus
_   may have been my own hack breaking it

_ imageMode() shouldn't affect fonts
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1060207942;start=0
_ another odd NullPointerException -> or just a "couldn't delete" problem
_  http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1060341518

_ reference key list isn't in dist (at least on osx)
_ switch to swing menus
_   the other menus really look like hell on linux
_ better 1.3/1.4 support.. properly detect vm
_   use when deciding which classes to import
_ see if mods to PdeCompiler work on windows
_ some flag to know whether applet is online or not
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1051758365;start=0
_   fix link, loadStrings, saveBytes code once that's fixed
_ set a better ctrl-key for reference (anything but 'F')
_   probably need to use mac or pc specific keys?
_ interested in devel: Leonhard Rathner <leonhard@rathner.com>

_ catch security exceptions around applet i/o calls
_   not just for saving files, but provide better error msgs when
_     attempting to download from another server
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1059928189;start=0
java.security.AccessControlException: access denied (java.io.FilePermission screen-0000.tif read) 
 at java.security.AccessControlContext.checkPermission(Unknown Source) 
 at java.security.AccessController.checkPermission(Unknown Source) 
 at java.lang.SecurityManager.checkPermission(Unknown Source) 
 at java.lang.SecurityManager.checkRead(Unknown Source) 
 at java.io.File.exists(Unknown Source) 
 at BApplet.screenGrab(BApplet.java:1047) 
 at gravity_giger_00.loop(gravity_giger_00.java:58) 
 at BApplet.nextFrame(BApplet.java:298) 
 at BApplet.run(BApplet.java:256) 
 at java.lang.Thread.run(Unknown Source) 

_ perlin noise is broken
_ java vm could be removed from cvs
_   in favor of requiring a specific jvm, and using registry to find


thought this was complete, but it's totally broken
dh b _ present mode, click background window and front window hides
dh b _   wasn't present in jdk 1.3, focus manager changed in 1.4
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1050163961
dh b _   file://localhost/D:/jdk-1.4.1_02/docs/api/java/awt/doc-files/FocusSpec.html
dh b _ focus not properly set in present mode
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1048069821
   b _ escape key not quitting presentation mode
   b _   no events seem to be coming through at all


additional console fixes
dh b _   clear console each time 'run' gets hit
dh b _     don't actually clear, just advance by the number of lines visible
dh b _     http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1051540041;start=0
dh b _   can't copy text from console directly (winxp and macosx)
bf 1 _ console -> should be using JEditTextArea not TextPane
bf b _ set decent fonts (probably same as editor above), looks bad on mac
bf b o   remove the border around the edge
bf b o   what's with the 2 blank lines on startup?


macosx
_ random lockups seem common in 1.4
_ test more to see if runtime exceptions are coming through
_ track down error in PdeCompiler for message parsing
_   was missing the error about a package being gone
_   comment out /System/Library/ code to track that down
_ build gl4java for java 1.4
_ Event.consume() doesn't work on entry fields 
_   manifests itself in sketch naming, can't be constrained
_   may not be the case under swing?
_   it's probably because of keyTyped() being the important one
_     so instead trap for keyTyped events
_ set nice background for disk image on macosx
_ Contents/Resources/Java can take jnilib files

windows
_ modify build instructions for the many changes
_   i.e. buzz.pl requires jdk13+ set for JDK13 flag, used by p5
_ can windows have multiple jre installed and use any of them?

linux
_ doesn't seem interested in quitting properly

thesis / acg
bf _ make bagel more usable as standalone
bf _   breakout BGraphics (have its own BImage)
bf _   breakout BApplet into BComponent ? (fix out-of-bounds mouse)
bf _   possible use of BUtils ?
bf _   write documentation on general use
bf _     along with how to download from sourceforge (anonpass is blank)
bf _   needs to be used as a component, without applet 
bf _   but retain functionality, ie. image i/o
bf _   exports pixels or a BImage or does MemoryImageSource itself
bf _   move math functions into utility library associated
bf _     with bagel, because those will be useful on other bagel platforms
bf _     pApplet will call BagelMath.whatever, so still looks like cos()
bf _   #ifdef to remove client and server code as well
bf _   p5 classes into packages (bagel especially)
bf _     http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1052908285;start=0
bf _ break out BSerial as separate object like BVideo
bf _   include rxtx and the rest of that setup in subfolder
bf _   BSerial.flush and BSerial.available in object
bf _ need to resolve issues between rendering screen/file
bf _   illustrator-based rendering needs to work for ars projects
bf _   screen may be 400x400 pixels, but file be 36x36"
bf _ opengl export / rendering mode
bf _   currently implemented, but somewhat broken
bf _   finish this once all the line code is done
bf _ if sketchbook.dir is set, makes new sketchbook folder
bf _   reads sketchbook properly from other folder
bf _   but creates a new folder for new sketches to go into
bf _ install sketchbook into another location on person's machine
bf _   remove the 'default' for sketchbook
bf _   bring this up on bboard and get votes
bf _   win2k: my documents, macosx: ~/Documents, 
bf _   macos9: hd:Users?, linux: ~/sketchbook
bf _ move examples to folder that goes w/ p5 app
bf _   set examples somehow read-only


licensing
bf _ about box 
bf _   bring up information about gpl, lgpl, and ibmpl
bf _   check in licenses/dist stuff for jikes etc
bf _   who has the copyright?
bf _ jedit syntax is under mit license
bf _   http://www.opensource.org/licenses/mit-license.php
bf _   although jedit is under gpl, if we switch to its syntax pkg
bf _     more info about use is in package.html
bf _     http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/jedit/jEdit/org/gjt/sp/jedit/syntax/
bf _     http://community.jedit.org/modules.php?op=modload&name=news&file=article&sid=225&mode=thread&order=0&thold=0


random todos (low priority.. just notes to self)
bf _ history.. add my diffs sketch
bf _ look into eclipse ide a little more
bf _ actionscript has nice hastables.. as does perl/python
bf _   would be nice to get better implementation in there


////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

KEY

bf  ben fry (http://acg.media.mit.edu/people/fry)
cr  casey reas (http://www.groupc.net)
ca  carlos andres rocha 
hb  hernando barragan (http://www.people.interaction-ivrea.it/b.barragan)
dh  dan haskovec
dm  dan mosedale
ks  karsten schmitt (http://www.toxi.co.uk)
ap  amit pitaru (http://www.pitaru.net)


////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

GRAPHICS LIBRARY

A hybrid of OpenGL (3D Graphics) and some aspects of Postscript (Fill, Stroke)
The graphics library is called Bagel, which is an internal name.


BAGEL / Graphics API Additions

ks b _ background(BImage)
ks b _   also creating background image inside setup()

ks b _ images and pixel copying (api for this?)
ks b _   copyPixel(x, y, to_x, to_y)
ks b _   copyArea(x, y, w, h, to_x, to_y)
ks b _   copyImage(x, y, w, h,  to_x, to_y)
ks b _   resize of bimage, make a copy of image?
ks b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1050328581
ks b _ getPixel() and other fxns for BImage

bf b _ light(x, y, z, c1, c2, c3, TYPE)
bf b _   also BLight with same constructor, and on() and off() fxn

   b _ should image(img, x, y, alpha) work instead of using fill?
   b _   or maybe another word for fill/stroke.. apply? colorize?
   b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1050323800


BAGEL / Rendering

   b _ shape.. non-homogenous colors for beginShape()
   b _   currently disabled b/c homogenousColors not set false for vertices
   b _   and code not written for curve vertices

   b _ picking
   b _   what is the API for picking?
   b _   ability to write data other than image into the buffer
   b _   user can introduce new kinds of buffers at will (!)
   b _   lists of names of objects, or the 'line number' buffer
   b _   but how to determine *where* on object the hit occurs

ca b _ lines
ca b X   rewrite line and stroke code, it's a buggy mess
ca b X     lines become 2 pixels thick after a 3D transform 
ca b X     better handling of single-pixel special case
ca b _       flat_line_retribution is a hack, can go away
ca b _   setting stroke width on circle makes odd patterns
ca b X     line endcaps and line joins. strokeMode()
ca b _       lower priority, but at least leave room
ca b ?   make sure line() commands don't try to have a fill
ca b _   box is not opaque
ca b X     problem is that lines are drawn second
ca b X     one pixel lines have no z value.. argh
ca b X     bug re: 3d depth sorting on lines
ca b _     http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1043894019;start=0
ca b _     http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1042004618
ca b _     translate(58, 48, 0); 
ca b _     rotateY(0.5);
ca b _     box(40);

ca b X concave/complex polygon
ca b _   eventually POLYGON auto-detects convex/concave polygon
ca b _   also add POLYGON_CONVEX and POLYGON_CONCAVE
ca b X clipping objects (clipping planes?)
ca b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1058491568;start=0
ca b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1052313604;start=0
ca b X   things are flying into the camera and halting apps
ca b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1042699742
ca b X   NullPointerException apparently when things way offscreen
ca b _     i.e. glyphrot with scale set to 4
ca b _     or at least that things get ridiculously slow
ca b _     clipping issues here.. but also something in scan converter
ca b X     not clipping areas from offscreen
ca b _       huge geometry slows things way down

ca b _ get font things sewn up 
ca b X  create a simple generator for grayscale bdf fonts
ca b _     document the change and make several of them
ca b _   font smoothing (unless hint SMOOTH_IMAGES enabled) is broken

   b _ font support is overkill and sucks
   b _   need fast 2D text that's not affected by the transforms
   b _   also needs to look good, not squished from texture weirdness
   b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1051806272

ks b _ circles and spheres
ks b _   bresenham (flat) oval function
ks b _   finish fill mode of flat circle function
ks b _   stroked version of sphere is just a circle (?)
ks b _   setting accuracy of circles/sphere

bf b _ illustrator export / rendering mode
bf b _   also postscript or pdf export?
bf b _   version of Illustrator.java that uses bagel api
bf b _   sorting of polygons/lines on simple painters algorithm
bf b _   better lighting model to show darkness at various depths
bf b _     maybe just ultra-high res bitmaps from gl
bf b _   version of ProcessingApplet that replaces g. with ai. or pdf.


BAGEL / Data API

bf b _ split to take strings (ie. for ", ")
bf b _ quicksort should probably just be made into 'sort' class
bf b _   it's the only one ever used
bf b _   can this be done using an inner class?
bf b _ read table/csv formatted data into a matrix
bf b _   pseudo-database format version of this that stores indexes to file
bf b _     rather than loading the whole thing at once
bf b _ more advanced splitting of files into rows/cols uses another class
bf b _   other class also has concept for random access of lines
bf b _   by storing the line positions, can access without loading all
bf b _   into memory because some files will be too large
bf b _ need some model for i/o that makes more sense
bf b _   getting whole words from serial, network, and files
bf b _   or buffers of specific length with a sync byte


BAGEL / Serial

   b _ basic usb support?
   b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1053684925


BAGEL / Details

bf b _ make zbuffer available instead of g.zbuffer
   b _ getting mouse movement outside the window
   b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1051916278;start=0
   b _ gaps in lines for pmouseX, mouseX
   b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1044438078;start=0
   b _ too many push() will silently stop the applet inside a loop
   b _   test winding polygons in different directions
   b _   test lighting to see how it compares with gl
   b _   better lockout inside beginShape() to keep other things from happening
   b _   is quad strip broken or not behaving as expected?
   b _     may be correct, it worked for nik
   b _ draw mode issues.. size and background must be int/float constants
   b _   might be a better 'mode' for bagel so bkg and size cmds work
   b _   rather than app being enclosed in beginFrame/endFrame loop
   b _ images drawn from center don't work for simage()
   b _   currently calling slower image routine
   b _ inside draw() mode, delay() does nothing
   b _   delay might be a good way to signal drawing to the screen/updating


BAGEL / Future

   2 _ cartesian/polar conversion
   2 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1053354853
   2 _   thread includes code for the 2D case
   2 _ alter strokeWidth in LINE_STRIP
   2 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1053795842;start=0
   2 _ keypressed is not persistent
   2 _   key repeat in os vs. how java handles it
   2 _   search java faq for info about getting around it
   2 _ drawMode() for MULTIPLY and ADD
   2 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1051208333
   2 _ nicer/simpler api for moving the camera around
   2 _ better api for fonts
   2 _ fixed fonts are screwed, should only work at screen resolution
   2 _   getStream for the filename doesn't work for directories
   2 _     getfont("fonts/blah.fbf") refers to blah.raw, but that
   2 _     also needs to be searched for in the fonts/ dir..
   2 _ try with 1.4 frame buffer stuff to see if it's faster
   2 _ write shearing function
   2 _ optimize rotation functions
   2 _ update/noUpdate() could also be done to force explicit updates only
   2 _   for ui-type applications that don't need to continually redraw
   2 _   instead use void update() as a function like loop and draw
   2 _   third mode for interactive apps that have to be queried
   2 _   shouldn't do so much work (redrawing in loop) if waiting for input
   2 _     mode for when no full animation taking place
   2 _     otherwise machine is continually maxed out while app is running
   2 _ way to screen grab at higher resolution
   2 _   method for rendering at higher res and then scaling down
   2 _   (even if this causes signficant performance hit)
   2 _ look at GLUT for other needed shapes
   2 _ export to static flash-based graphics
   2 _ build in second matrix type: 2d affine
   2 _ write code for reading uncompressed b/w tiff images
   2 _   incorporate for fixed width fonts
   2 _ fast(er?) version of bagel that just uses java graphics
   2 _   but leaves out many features
   2 _ setting a fill color when drawing an image should affect the image
   2 _   or maybe image.setColor or setTone to mix a specific color in



////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

VIDEO 


VIDEO / Capture - Bagel Standard Extension by Hernando


VIDEO / Output - something like screengrab, employs qtjava

   b _ quicktime exporter or image sequence export
   b _   fairly quick--just use experimental code from dbn



////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

SOUND / Bagel Standard Extension by Carlos



////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

PDE - Processing Development Environment


PDE / General 

   b _ be able to draw something inside setup (?)
   b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1044689650;start=0
   b _ be able to set size() later in the program
   b _   but still maintain other features like background
   b _   make the BGraphics constructor less fragile
   b _     and also more open to being resized when not in applet mode


PDE / Pre-preprocessor 
Currently using Oro for search and replace preprocessor,
but Dan Mosedale is moving us to ANTLR

dm b _ move to antlr
dm b _ additional data conversions to avoid this syntax:
dm b _   Integer.toString(), Integer.parseInt()
dm b _   works like class casting: int(23.4) same as ((int) 23.4) 
dm b _   String(1234) -> translates to String.valueOf(1234);
dm b _     works for all data types that support valueOf
dm b _     i.e. valueOf(Object) returns null or Object.toString() 
dm b _   int("1234") -> Integer.parseInt("1234")
dm b _   float("1234.35") -> (new Float("1234.35").floatValue())
dm b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1060940705
dm b _ subst Image -> BImage, Font -> BFont
dm b _   this should be optional until we get the naming down
dm b _ foreach implementation, ala java 1.5 spec
dm b _   http://jcp.org/aboutJava/communityprocess/jsr/tiger/enhanced-for.html
dm b _   for (String s : c) { ... }
dm b _   or example for sum of int array:
dm b _   int sum = 0; for (int e : a) { sum += e; }

dm b _ contextual syntax highlighting based on grammar
dm b _   everything that's in java.lang plus more is too much for keywords
dm b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1045665326

   b _ allow import blahblah.blah.blah to get passed through
   b _   and included with the imports list.

Current Preprocessor Subsitutions:

"compiler.substitute_floats" (currently "substitute_f")
- treat doubles as floats, i.e. 12.3 becomes 12.3f so that people
  don't have to add f after their numbers all the time. this is
  confusing for beginners.

"compiler.enhanced_casting"
- byte(), char(), int(), float() works for casting. this is basic in
  the current implementation, but should be expanded as described
  above. color() works similarly to int(), however there is also a
  *function* called color(r, g, b) in p5. will this cause trouble?

"compiler.color_datattype"
- 'color' is aliased to 'int' as a datatype to represent ARGB packed
  into a single int, commonly used in p5 for pixels[] and other color
  operations. this is just a search/replace type thing, and it can be
  used interchangeably with int.

"compiler.web_colors" (currently "inline_web_colors")
- color c = #cc0080; should unpack to 0xffcc0080 (the ff at the top is
  so that the color is opaque), which is just an int. 

Other preprocessor functionality

- detects what 'mode' the program is in: static (no function brackets
  at all, just assumes everything is in draw), active (setup plus draw
  or loop), and java mode (full java support). 
  http://proce55ing.net/reference/environment/index.html

- size and background are pulled from draw mode programs and placed
  into setup(). this has a problem if size() is based on a variable,
  which we try to avoid people doing, but would like to be able to
  support it (perhaps by requiring the size() to be final?)

- currently does a godawful scrambling of the comments so that the
  substitution doesn't try to run on them. this also causes lots of
  bizarro bugs.

Possible?

- would be nice to just type code wherever, mixing a 'static' style
  app with a few functions. would be simpler for starting out. but it
  seems that the declarations would have to be pulled out, but that
  all seems problematic. or maybe it could all be inside a static { } 
  block. but that wouldn't seem to work either.


PDE / PreprocessorOro bugs (will go away with new preproc)

_ weird comments bug (// on last line causes oro trouble)
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1040466898
_ setup( ){} has an error, setup(){} does not
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1045059758;start=0
_   also, setup (200, 200) causes the default size to be used 
_ no longer require size() to come first.
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1038368420
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1028560140
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1059517526
_ compiler barfs on: float[] moo = new int[10];  
_   although no error comes through to p5 (benelek)
_ int() doesn't work inside other functions
_   argh, need a real parser
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1052994613
_ more int() troubles
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1056479871;start=0
_ something about the line println("4"); turns things to mush:
_   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1051654054;start=0


PDE / Runtime (includes classloading)

dh b _ environment locks up when error stream isn't for the class
dh b _   this happens when it's another thread (i.e. image fetcher)
dh b _   exceptions in KjcEngine (formerly 'ex found in run') should be cleaner
dh b _ for 'java' mode, try run using external vm
dh b _   would need to get error output stream from app.. argh
dh b _   only allow under win/osx/linux
dh b _   not clear how to kill the process.. does that work w/ 1.3?
dh b _ support 'classes' folder, through the use of a classloader
dh b _   could also be done by launching external java app
dh b _   all .jar files etc are added from this folder automatically
dh b _   'public class' thing to make things available to all sketches
dh b _     http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1050571290
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1055355089
dh b _ class unloading not happening in java mode
dh b _   need to add randomizer to even non-self gen'd classes
dh b _   or figure out how to unload old classes.. grr
dh b _ lockup when something missing from classpath on dynamic load
dh b _   but makes no error.. peditorconsole probably swallowing it
dh b _ ability to include other code from sketchbook directory
dh b _   compile entire sketchbook on startup, check for new files on compile?


PDE / Export

dh b _ add manifest.mf to exported applets so that applications will work
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1045983103;start=0
dh b _ ability to export 'applications' (not just applets)
dh b _   lock feature for present mode (part of export to application?)
dh b _   application can still do serial (qt, other stuff?) 
dh b _   applet runs in browser, though applet on cbagel is everything..
dh b _   include main class info for executable jar file with jdk > 1.2
dh b _   not difficult to do, just some tweaking once applet export works
dh b _   wrapper that invokes the applet using a copy of the jre
dh b _   main() method needs to set layout manager if jexegen is to be used
dh b _     (msft vm defaults to null layout manager)
dh b _   also make sure pack() is happening


PDE / Editor
if you dream it, you can do it.

dh b _ find/replace
dh b _   ctrl-f for find, g for find next, h for next occurrence of selected
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1055003940


PDE / Details

dh b _ p5 becomes a memory hog (benelek and glen murphy)
dh b _   even without sketches open, perhaps not gc'ing properly
dh b _   objects probably not getting finalized
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1050134854;start=0
dh 1 _ beautify() ignores colons for case statements
dh 1 _   need to tie this to the parser instead
dh 1 _   SystemColor doesn't differentiate between menu background and top
dh 1 _   probably fixed in swing, but we're using java.awt.Menu
dh 1 _   test by rewriting with java.awt.Menu
dh b _ need to check if volume is read-only, notify and quit if it is
dh b _   people are trying to run off the disk image
dh b _   need to pay attention to when running from read-only drive
dh b _     reported by brandenberg
dh b _    "p5 will launch from the disk image, but will 
dh b _     not draw the sketch name bar doesn't appear"
dh 1 _ size() has memory limitations (pitaru)
dh 1 _   catch OutOfMemoryError inside size() and let the user know
dh 1 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1038847001
dh 1 _ 'save as' from examples puts into examples dir.. :(
dh 1 _   make it default to the user's sketch dir
dh 1 _ verify editor buttons working properly
dh 1 _   is play button properly unhighlighting? 
dh 1 _     does it unhighlight after compile or runtime errors?
dh 1 _     also when using draw() instead of loop()
dh 1 _       applet needs to notify runner that it has terminated
dh 1 _   popup menu for sketches doesn't unhighlight if no sketch selected
dh 1 _   if export fails (compile error) need deselect
dh 1 _ only copy data files into build dir when there are changes
dh 1 _   make sure the still relevant files aren't removed
dh 1 _   setLastModified on the files after copying (jdk13)
dh 1 _ better handling of AccessControlException in applets
dh 1 _   on loadImage and loadStream
dh 1 _ exceptions in draw() apps aren't caught
dh 1 _   the program resize(200, 200); just does nothing (doesn't complain)
dh 1 _ if 'void' left out before loop or setup, cryptic message about
dh 1 _   'constructor loop must be named Temporary_23498_2343'
dh 1 _   add a better handler for this specific thing?
dh 1 _ sketches can't be named starting with numbers (D.YOO)
dh 1 _   either provide an error message or explanation for this
dh 1 _   or allow the sketch name to be separte from the class/folder names
dh 1 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1033674118
dh 1 _ menu weirdness (benelek)
dh 1 _   when u've got a menu open, move a cursor over the text area
dh 1 _   and back over the menu, the text-area cursor type remains. 
dh 1 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1043667859
dh 1 _ scroll bar has some painting weirdness with jedit textarea
dh 1 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1042351684

   1 _ too many frames drawn before window visible - especially on mac
   1 _ examples should be read-only
   1 _   stored in a separate folder from the sketchbook
   1 _ error message dialog?
   1 _   maybe something that shows stack trace 
   1 _   with an 'email this' button? (include source code too?)
   1 _ dim edit menus as appropriate during selection/no selection/etc
   1 _ switch to newer syntax package from jedit cvs
   1 _   is enormous horizontal scroller issue fixed properly


danh couldn't replicate on win2k, but test under osx and others
dh 1 _ rename doesn't set focus to renamer area


PDE / Features

dh b _ some notion of plugins for pde
dh b _   color picker or other things written by folks
dh b _   add all .jar files in lib/plugins on startup
dh b _ make some kind of internal color picker
dh b _   could be a separate window that's always around if needed
dh b _ highlight a word and jump to it inside the reference
dh b _ shortcut to walk through history, ala photoshop (ctrl-alt-z)
dh b _ may need to start putting properties somewhere besides lib
dh b _   home directory  (or preferences folder under macos9)
dh b _ put screenshots into sketch folder
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1046185738;start=0
dh b _ external editor -> add a command to launch
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1043734580;start=0
dh b _ event to explorer to open 'data' directory of project
dh b _   better just to go directly to the sketch's folder
dh b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1055926880
dh b _ expose access to oro api, perhaps as a plugin
dh b _   regexps: http://javaregex.com/cgi-bin/pat/tutorial.asp


PDE / see you next year
not necessary for 1.0 release

2 _ editor features asked for on the bboard
2 _   line numbers like bbedit
2 _   command to comment-out the current selection
2 _   split screen
2 _   collapsable functions, or quick access to functions
2 _     http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1051301511
2 _   tabbed interface for multiple files
2 _     http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1052077800;start=0
2 _ make console like director messagewindow.. 
2 _   ability to type commands and try functions
2 _ menu option to change username/login
2 _   if new user, offer to rename 'default' if it contains things
2 _ user name is changed by clicking and typing
2 _   after user hits 'enter', checks to see if user exists
2 _     if not, pops up message asking if they want to change
2 _       message goes in same spot as error/status label (turns yellow?)
2 _     if user says 'no', then 
2 _ method of collapsing history for useful versions
2 _   archive associated files as well.. data/etc
2 _ see about setting up simple bug tracker/feature system
2 _   // We can use sourceforge for bug tracking... (reas)
2 _   queue for people reporting things externally
2 _   bugzilla but simpler
2 _   would also be nice for people to be able to vote on features
2 _ run java code besides processing applets 
2 _   if not processing applet, look for a main(), no main give an error
2 _ dbn2p5 converter.. ooh!
2 _ tweak updater a little bit so it's more likely to work
2 _   use numbered versioning? 
2 _   give updater feedback (progress dialog, error msg)
2 _ error messages with link to what's wrong
2 _ lots of ui ideas from adrien in the bbedit
2 _ some ui stuff from fdb
2 _   rename the button options to verbs
2 _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1032909986


PDE / science fiction
features we love, but probably won't be implemented 2048

3 _ toggle for showing a function name each time its hit
3 _ toggle for showing line numbers within a function
3 _   i'm here messages, tie in with breakpoints for debugger
3 _   lightweight debugger, doesn't slow down, runs in back
3 _ toggle to show attr/value for some var in simple way
3 _ comments as debugging descriptors, output to console, shown in context
3 _ comments as naming for shapes drawn after it,
3 _   or some other model of naming based on inserted text with "" or // or #
3 _   could fit nicely with printf-style statements and comments
3 _   comments would contain descriptions //!blah for printing and formatting
3 _ sketchbook - doodling/scribbling area.. 
3 _   since wacom tablet easily accessible
3 _ look into maxx programming
3 _ single or multi-file cvs, not based on directories
3 _   i.e. i want illustrator.java for a project
3 _   version # stored in .java file
3 _   if a new version is available, asks 'do you want to update?'
3 _   multi-file: quicksort + sortable
3 _ check out interface builder for interesting tidbits
3 _ write converter for java bagel -> cpp version
3 _   include #ifdefs for c stuff



////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

DISTRIBUTION

How the environment gets packed up, downloaded, and installed.


DISTRIBUTION / General 

1 _ make a preference panel to set pde.properties stuff
1 _ open button stays stuck if no sketch is selected from popup

b _ need more comprehensive list of 'known bugs'
b _  need to purge 55 spelling from lots of things
b _   window title code, name of .exe and .app files
b _ need more comprehensive list of ' known suggestions'
b _ people like downloadable reference + net isn't cheap everywhere
b _ beta release will include source code
b _ write notes about running p5 on another platforms 
b _   this was some feedback from running on bsd:
b _   /usr/local/jdk1.3.1/bin/java -cp lib:lib/build:lib/pde.jar:lib/kjc.jar:lib/oro.jar:java/lib/ext/comm.jar PdeBase 
b _   need to use the 1.3 vm, and get a fake platform name
b _   otherwise, goes looking for lib/pde_.properties or something
b _ tie .pde files as documents of the application
b _   figure out proper registry key for windows
b _     can be handled when the app first run (jni?)
b _   write handler for main() to take document names
b _   need document icons
b _   add MRJOpenApplicationHandler and MRJOpenDocumentHandler
b _       especially the open document fella
b _       under osx, app won't get doc unless app already launched


DISTRIBUTION / Windows
b _ need splash screen, startup takes a long time
b _   file association for .pde files
b _ windows 95/98/ME seems to be broken
b _   ME doesn't seem to like the .exe, but run.bat worked ok
b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1028990066
b _ lockup/freezes (mKoser and zeitgeist)
b _   jre icon not appearing in the systray
b _   http://proce55ing.net/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1030538508


DISTRIBUTION / Linux
b _ splash screen


DISTRIBUTION / Mac OS X

1 _ set file type/creator for .pde files of examples
1 _ would be nice to have macosx packaged up as a single .app file



DISTRIBUTION / Mac OS 9

todo
_ set file type for jar and html files on export
_   (not done on osx, safari doesn't set for html files)
_   why is bbedit the type for the other files? make simpletext

untested/likely broken
_ reference launching
_ control/right-click for edit area context menu
_ make sure editor window is front so that error line highlights
_ is video working (qtjava in path) on macos9?

