0070 bagel
o check ordering of split() in java vs perl for regexp
X don't include empty chars in font builder
X   .vlw font files are enormous with full charset
X   check to see if the character exists before adding it to the font
X fixed (unreported) problem with char lookup code
o split() with multiple args (i think this is completed)
X   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1078985667
X trim() not chop().. whups
X random(5, 5) -> return 5, random(6, 4) return error
X   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083275855;start=0
X use random.nextFloat() because it's faster

_ vertex coloring bug with carlos' new line code
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1085348942

_ loadStrings has a problem with URLs and a code folder
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1086551792

_ mkoser wish list
_   filled polygons working with smooth()
_   z-clipping

_ dynamically load code for png and others on loadImage/saveFrame?
_ updated png encoder
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083792994
_ more image file i/o.. more advanced in newer java
_   read uncompressed tiff, read uncompressed tga files.
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1081190619
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Tools;action=display;num=1066742994;start=15

_ embed all available chars from a font, so japanese, etc works

_ problems with defining fill(255) vs fill(0xff808080)
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083650609;start=0
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1082481891;start=2

_ include in the docs: don't override stop()
_   or handle this some more intelligent way, super.stop() is needed.
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083574943

_ include a lerp()? is there one in flash?
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Programs;action=display;num=1083289030

_ acos/asin/etc? 

_ how to handle toInt() etc and the casting?
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083453511

_ flicker happening on osx java 1.4, but not 1.3:
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083184297;start=0

_ hint(NEW_GRAPHICS) needs to be called before allocate()
_   otherwise stencil buffer and 'triangle' object are null on first run

_ doesn't work when outside a function:
_   color bg_color = color(255,0,0);
_ colorMode broken for red() green() etc
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1068664455

_ keypressed hanging on applets with a code folder
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081450102

_ mousePressed, keyPressed, others.. queue them all
_   queue multiple times
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1079555200;start=0
_ strangeness with key codes on keyPressed
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083406438;start=0
_ key codes not properly coming through for UP/DOWN/etc
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1075138932;start=0

_ cursor() broken in applets on macosx?
_   or is it a java 1.4 versus java 1.3 problem?
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081645955

_ ed's thread re: fullscreen strategies
_   could add a new BApplet that uses BufferStrategy?
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Programs;action=display;num=1081335361;start=15

_ angleMode(DEGREES) and angleMode(RADIANS)
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1075507381;start=0

_ weird ellipse bug with an alpha line in same image
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083221401;start=0
_ scaled ellipse showing up as a hexagon
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083674213

image stuff
_ loadImage() seems to be caching everything from the jar
_   make a note of how to disable this
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Programs;action=display;num=1078795681#8
_ get loadImage() to work properly with data folder
_   should probably use the code from loadStream
_   and the url stuff should be an alternate method altogether
_ BImage.smooth() ?
_ bug in BImage.smooth() when resizing an image
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077669847

...lots of other bugs listed below


............................................................


0071 or later

_ colorMode(CMYK)
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Tools;action=display;num=1082055374;start=0

_ still some weirdness with thread flickering on the mac
_   and frenetic display updates on the pc
_ little window showing up on macosx when running
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081284410

_ expand() on Object[] is worthless.. fix it with reflection?
_   also, should it be named resize() instead?

_ make g.depthTest settable as a hint
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1078428462;start=0

_ link only works on absolute URLs
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081710684;start=0

_ saveFrame() to a folder horks things up if a mkdirs() is required
_   on macosx, this makes things hang; on windows it just complains
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081706752

_ also a note about using regexps in p5
_   would be nice to wrap oro for simple matching

_ properly sense when applet has focus
_   add a 'focused' variable to the applet
_   code now in zipdecode, maybe just list this as a standard thing?

_ point() being funneled through beginShape is terribly slow
_   go the other way 'round

_ when running as an applet, need to loadStream from documentBase
_   problem is that BGraphics has the loadStream code, not BApplet


// 


IMAGE
_ make grayscale image in p5
_   could be used in conjunction with alpha() to properly set alpha values
void toGrayscale() {
   int col,lum;
   for(int i=0; i<pixels.length; i++) {
     col=pixels[i];
     // luminance = 0.3*red + 0.59*green + 0.11*blue
     // 0.3*256 = 76
     // 0.59*256 = 151
     // 0.11*256 = 28
     lum = (76*(col>>16&0xff)+151*(col>>8&0xff)+28*(col&0xff))>>8;
     pixels[i]=lum<<16 | lum<<8 | lum;
   }
}
_ alpha not set on images, so can't be used in photoshop as a layer
_   http://processing.org/discourse/yabb/YaBB.cgi?board=general;action=display;num=1078441623;start=0
_ more blend() modes
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1082056702


BUGS / Bagel
_ more weirdness with stroke on rect, prolly not alpha
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1085799526
_ rect is not getting it's stroke color set
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1073582391;start=0
_ alpha of zero still draws boogers on screen
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1073329613;start=0
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1080342288;start=0
_ new sphere code from toxi
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1067005325
_ weird problem with drawing/filling squares
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077226984
_ last vertex on LINE_LOOP fades out
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1076911893
_ rotated text has a bug for when it goes offscreen
_   patch rotated text (from visualclusto) into bfont
_ mgorbet stroke transparency problem
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1076383048;start=0
_ put SecurityException things around file i/o for applets
_   rather than checking online(), since applets might be signed
_ shut off the automatic gunzipping


BUGS / ellipse
_ problem with the fill
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077834735
_ z values not set properly on ellipses?
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1068752615
_ ellipses are just plain ugly
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1073409011;start=0


NETWORK
_ don't send unicode data
_ when you stop the client, it freezes 
_   until you quit the processing running the server
_   (the server starts and stops fine)
_ add constants for building NET, move stuff around in bagel dir
_ some method for just downloading the entire contents of a url
_ add udp support


SERIAL
_ launcher.cpp broke serial.. see versions in processing.notcvs


VIDEO
_ problems with hanging video when not in the root of the c drive
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1084464062;start=0
_ video keeps running, cpu load high, even after app killed
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1086800853
_ selecting input source (wintv board and quickcam installed.. problem)
_ beginVideo not colored
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1069342913;start=0
_ video commands not color coded
_ things will freeze if winvdig not installed
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1065185464
_ quicktime 6.4 update breaks p5 on the mac?
_   http://docs.info.apple.com/article.html?artnum=93414&sessionID=anonymous%7C26893096&kbhost=kbase.info.apple.com%3a80%2f
_   "Type quicktime.std.stdQTConstants was not found"
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1066358763
_   http://docs.info.apple.com/article.html?artnum=120255
_ split classes to BVideo and BMovie ? 
_ video hanging without a camera installed
_ just locks up after running examples, then does the 'can't delete' thing
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1060313779
_ first row of video pixels are black
_   casey says it may only be his camera
_ video.pixels don't seem to have high bytes set
_   so fill(video.pixels[blah]) doesn't work
_   test against 'pixels' example
_ make BVideo subclass BImage
_   make sure the high bits are getting set as opaque
_ quicktime exporter or image sequence export
_   fairly quick--just use experimental code from dbn
_ this hangs frequently on the mac (prolly a sync issue)
_   karsten's stuff has same problem
_   but the roger's video tracking does not
void videoEvent()
{
  for(int i=0; i<width*height; i++) {
    if((video.pixels[i] >> 16 & 0xFF) > threshold) {
      blackwhite.pixels[i] = #FFFFFF;
    } else {
      blackwhite.pixels[i] = #000000;
    }
  }
}


thesis / acg
_ make bagel more usable as standalone
_   breakout BGraphics (have its own BImage)
_   breakout BApplet into BComponent ? (fix out-of-bounds mouse)
_   possible use of BUtils ?
_   write documentation on general use
_     along with how to download from sourceforge (anonpass is blank)
_   needs to be used as a component, without applet 
_   but retain functionality, ie. image i/o
_   exports pixels or a BImage or does MemoryImageSource itself
_   move math functions into utility library associated
_     with bagel, because those will be useful on other bagel platforms
_     pApplet will call BagelMath.whatever, so still looks like cos()
_   #ifdef to remove client and server code as well
_ break out BSerial as separate object like BVideo
_   include rxtx and the rest of that setup in subfolder
_   BSerial.flush and BSerial.available in object
_ need to resolve issues between rendering screen/file
_   illustrator-based rendering needs to work for ars projects
_   screen may be 400x400 pixels, but file be 36x36"
_ opengl export / rendering mode
_   currently implemented, but somewhat broken
_   finish this once all the line code is done
_ make possible to use buzz.pl to create versions w/ stuff removed
_ build gl4java for java 1.4
_ read table/csv formatted data into a matrix
_   pseudo-database format version of this that stores indexes to file
_     rather than loading the whole thing at once
_ more advanced splitting of files into rows/cols uses another class
_   other class also has concept for random access of lines
_   by storing the line positions, can access without loading all
_   into memory because some files will be too large
_ illustrator export / rendering mode
_   also postscript or pdf export?
_   version of Illustrator.java that uses bagel api
_   sorting of polygons/lines on simple painters algorithm
_   better lighting model to show darkness at various depths
_     maybe just ultra-high res bitmaps from gl
_   version of BApplet that replaces g. with ai. or pdf.
_ history.. add my diffs sketch
_   could just include a compiled version of the diff app, ala jikes


NEW GRAPHICS
_ stroke not set on flat_rect
_ when drawing fonts w/ sami's code, left edge has problem
_   8-bit (alpha) textures not blending 
_ near-plane clipping currently disabled for triangles, enabled for lines
_   (but culling offscreen triangles works.. but may have been
_   commented out by carlos)
_ sphere code needs only front face polygon 
_   all triangles must be counter-clockwise (front-facing)


_ some way to properly quit sketch when stopped
_   if people have other threads they've spawned, impossible to stop
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1067383998
_ rewrite bagel code.. 
_   for this release, because it will break things along with the lib stuff
_   switch to PImage, PApplet, etc
_ update() mode needs to be hacked in
_ separating of BGraphics and BApplet
_ change copyrights on the files again (to match ?)
_ proper lineweight
_ camera clipping
_ put screenshots into their sketch folder
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1046185738;start=0
_   add a method BApplet.setPath() or something like that
_ add color(gray) and color(gray, alpha)
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1074180764
_ light(x, y, z, c1, c2, c3, TYPE)
_   also BLight with same constructor, and on() and off() fxn
_ update illustrator code to use bagel api
_   even if not actually working properly.. just in naming of things
_ new networking client from simong 
_ simong lighting code
_ screenGrab() at the end of a draw mode program is problematic
_   app might exit before the file has finished writing to disk
_   need to block other activity inside screenGrab until finished
_ catch security exceptions around applet i/o calls
_   not just for saving files, but provide better error msgs when
_     attempting to download from another server



////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

GRAPHICS LIBRARY

A hybrid of OpenGL (3D Graphics) and some aspects of Postscript (Fill, Stroke)
The graphics library is called Bagel, which is an internal name.


BAGEL / Rendering

   b _ picking
   b _   what is the API for picking?
   b _   ability to write data other than image into the buffer
   b _   user can introduce new kinds of buffers at will (!)
   b _   lists of names of objects, or the 'line number' buffer
   b _   but how to determine *where* on object the hit occurs

     _ add option to sort triangles back to front so alpha works
     _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1076660476;start=0

   b _ lines
   b X   rewrite line and stroke code, it's a buggy mess
   b X     lines become 2 pixels thick after a 3D transform 
   b X     better handling of single-pixel special   se
   b _       flat_line_retribution is a hack, can go away
   b ?   make sure line() commands don't try to have a fill
   b _   box is not opaque
   b X     problem is that lines are drawn second
   b X     one pixel lines have no z value.. argh
   b X     bug re: 3d depth sorting on lines
   b _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1043894019;start=0
   b _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1042004618
   b _     translate(58, 48, 0); 
   b _     rotateY(0.5);
   b _     box(40);
   b _   line endcaps and line joins. strokeMode()
   b _     lower priority, but at least leave room
   b _ strokeWeight is still broken
   b _   setting stroke width on circle makes odd patterns
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077013848;start=0
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1080347160

   b X clipping objects (clipping planes?)
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1058491568;start=0
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1052313604;start=0
   b X   things are flying into the camera and halting apps
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1042699742
   b X   NullPointerException apparently when things way offscreen
   b _     i.e. glyphrot with scale set to 4
   b _     or at least that things get ridiculously slow
   b _     clipping issues here.. but also something in scan converter
   b X     not clipping areas from offscreen
   b _       huge geometry slows things way down



BAGEL / Details

   1 _ toxi ellipses don't adapt properly with transformations
   1 _ what is the stroked version of a sphere? a circle?
   1 _ non-homogenous coloring for curve vertices
   1 _   properly interpolate
   1 _ too many push() will silently stop the applet inside a loop
   1 _ test winding polygons in different directions
   1 _ test lighting to see how it compares with gl
   1 _ better lockout inside beginShape() to keep other things from happening
   1 _ is quad strip broken or not behaving as expected?
   1 _   may be correct, it worked for nik
   1 _ inside draw() mode, delay() does nothing
   1 _   delay might be a good way to signal drawing to the screen/updating


BAGEL / Fonts

   1 _ sbit font support
   1 _   both reading and building sbit fonts
   * _ mac -> vlw (or sbit?) font converter
   * _   need to also read the fond for metrics
