0070 core
o check ordering of split() in java vs perl for regexp
X don't include empty chars in font builder
X   .vlw font files are enormous with full charset
X   check to see if the character exists before adding it to the font
X fixed (unreported) problem with char lookup code
o split() with multiple args (i think this is completed)
X   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1078985667
X trim() not chop().. whups
X random(5, 5) -> return 5, random(6, 4) return error
X   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083275855;start=0
X use random.nextFloat() because it's faster
X make grayscale image in p5
X   could be used with alpha() to properly set alpha values
X   made into filter(GRAYSCALE) and filter(BLACK_WHITE) functions
X make g.depthTest settable as a hint
X   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1078428462;start=0
X #ifdef to remove client and server code as well
X need to resolve issues between rendering screen/file
X   illustrator-based rendering needs to work for ars projects
X   screen may be 400x400 pixels, but file be 36x36"
X launcher.cpp broke serial.. see versions in processing.notcvs
X rewrite bagel code.. 
X   for this release, because it will break things along with the lib stuff
X   switch to PImage, PApplet, etc
X bug in BImage.smooth() when resizing an image
X   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077669847
X shut off the automatic gunzipping of streams, keep for fonts


cleaning up
X make bagel more usable as standalone
X   breakout BGraphics (have its own BImage)
o   breakout BApplet into BComponent ? (fix out-of-bounds mouse - doesn't)
o opengl export / rendering mode
o   currently implemented, but somewhat broken
o   finish this once all the line code is done
o make possible to use buzz.pl to create versions w/ stuff removed
o build gl4java for java 1.4
o separating of BGraphics and BApplet
o change copyrights on the files again (to match ?)
X loadStrings has a problem with URLs and a code folder
o   turned out to be a problem with firewall/antivirus software
o   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1086551792
o when running as an applet, need to loadStream from documentBase too
o   problem is that BGraphics has the loadStream code, not BApplet
o new sphere code from toxi
o   already added a while back
o   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1067005325
o sphere code needs only front face polygon 
o   all triangles must be counter-clockwise (front-facing)


MEGABUCKET (api)
_ add color(gray) and color(gray, alpha)
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1074180764
_ light(x, y, z, c1, c2, c3, TYPE)
_   also BLight with same constructor, and on() and off() fxn
_ api to properly sense when applet has focus
_   add a 'focused' variable to the applet
_   code now in zipdecode, maybe just list this as a standard thing?
_ include in the docs: don't override stop()
_   or handle this some more intelligent way, super.stop() is needed.
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083574943
_ include a lerp()? is there one in flash?
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Programs;action=display;num=1083289030
_ acos/asin/etc? 
_ doesn't work when outside a function:
_   color bg_color = color(255,0,0);
_ colorMode broken for red() green() etc
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1068664455
_ angleMode(DEGREES) and angleMode(RADIANS)
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1075507381;start=0
_ figure out how to handle cached images, multiple images
_   MediaTracker blocking is prolly making jar download really slow
_ decide on whether to use PTools
_   i.e. move math functions into utility library
_ look at BGraphics to see if setting an 'applet' could be used
_   then other than that, if no applet set, no connection to PApplet
_ new/old graphics, explicitly stating 2d/3d, huh?
_   what to do about anti-aliasing.. oversample 2x?
_ expand/subset for array operations (floats, ints, Strings)
_   expand() on Object[] is worthless.. fix it with reflection?
_     also, should it be named resize() instead?
_   see if reflection will allow expand for all class types
_   append/unappend (no push/pop), shift/unshift, 
_   slice, splice, reverse, concat, split
_ more blend() modes? (the five listed on the thread below?)
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1082056702


_ mkoser wish list
_   filled polygons working with smooth()
_   z-clipping


............................................................


0071 or later


BUGS / graphics

_ fix param() to use a sketch.properties file when run as an app
_   make this also be used in generating the html file
_ fix link() to handle relative URLs
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081710684;start=0
_ add a method BApplet.setPath() or something like that
_   use it to repair saveBytes, saveStrings, etc
_   put screenshots into their sketch folder
_     http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1046185738;start=0
_ put SecurityException things around file i/o for applets
_   rather than checking online(), since applets might be signed

_ illustrator export / rendering mode
_   also postscript or pdf export?
_   version of Illustrator.java that uses core api
_   sorting of polygons/lines on simple painters algorithm
_   better lighting model to show darkness at various depths
_     maybe just ultra-high res bitmaps from gl
_   version of BApplet that replaces g. with ai. or pdf.
_   update illustrator code to use core api
_     even if not actually working properly.. just in naming of things
_   colorMode(CMYK)
_     just does 1-r/1-g/1-b inside 
_     http://processing.org/discourse/yabb/YaBB.cgi?board=Tools;action=display;num=1082055374;start=0

_ some way to properly quit sketch when stopped
_   if people have other threads they've spawned, impossible to stop
_   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1067383998
_ update() mode needs to be hacked in

_ screenGrab() at the end of a draw mode program is problematic
_   app might exit before the file has finished writing to disk
_   need to block other activity inside screenGrab until finished



////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////

GRAPHICS LIBRARY

A hybrid of OpenGL (3D Graphics) and some aspects of Postscript (Fill, Stroke)
The graphics library was formerly called Bagel, which is an internal name.


CORE / Key/Mouse Events

   b _ keypressed hanging on applets with a code folder
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081450102
   b _ mousePressed, keyPressed, others.. queue them all
   b _   queue multiple times
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1079555200;start=0
   b _ strangeness with key codes on keyPressed
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083406438;start=0
   b _ key codes not properly coming through for UP/DOWN/etc
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1075138932;start=0


CORE / Image

   b _ dynamically load code for png and others on loadImage/saveFrame?
   b _ updated png encoder
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083792994
   b _ more image file i/o.. more advanced in newer java
   b _   read uncompressed tiff, read uncompressed tga files.
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_Software;action=display;num=1081190619
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Tools;action=display;num=1066742994;start=15
   b _ loadImage() seems to be caching everything from the jar
   b _   make a note of how to disable this
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Programs;action=display;num=1078795681#8
   b _ get loadImage() to work properly with data folder
   b _   should probably use the code from loadStream
   b _   and the url stuff should be an alternate method altogether
   b _ BImage.smooth() ?
   b _ alpha not set on saveFrame, so can't be used in photoshop as a layer
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=general;action=display;num=1078441623;start=0


BAGEL / Rendering

   b _ lines
   b _   last vertex on LINE_LOOP fades out
   b _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1076911893
   b _   vertex coloring bug with carlos' new line code
   b _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1085348942
   b X   rewrite line and stroke code, it's a buggy mess
   b X     lines become 2 pixels thick after a 3D transform 
   b X     better handling of single-pixel special   se
   b _       flat_line_retribution is a hack, can go away
   b _ mgorbet stroke transparency problem
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1076383048;start=0
   b ?   make sure line() commands don't try to have a fill
   b _   box is not opaque
   b X     problem is that lines are drawn second
   b X     one pixel lines have no z value.. argh
   b X     bug re: 3d depth sorting on lines
   b _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1043894019;start=0
   b _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1042004618
   b _     translate(58, 48, 0); 
   b _     rotateY(0.5);
   b _     box(40);
   b _   line endcaps and line joins. strokeMode()
   b _     lower priority, but at least leave room
   b _ strokeWeight is still broken
   b _   setting stroke width on circle makes odd patterns
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077013848;start=0
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1080347160

   b _ more weirdness with stroke on rect, prolly not alpha
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1085799526
   b _ rect is not getting it's stroke color set
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1073582391;start=0
   b _ weird problem with drawing/filling squares
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077226984

   1 _ ellipse problems
   1 _   weird ellipse bug with an alpha line in same image
   1 _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083221401;start=0
   1 _   scaled ellipse showing up as a hexagon
   1 _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083674213
   1 _   problem with the fill
   1 _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1077834735
   1 _   z values not set properly on ellipses?
   1 _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1068752615
   1 _   ellipses are just plain ugly
   1 _     http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1073409011;start=0
   1 _   toxi ellipses don't adapt properly with transformations

   b _ lighting is completely buggy and broken
   b _   add a lighting object
   b _   simong wrote fixed lighting code

   b _ texture mapping
   b _   very odd, "doom era" stuff
   b _   would it be possible to have a 'slow but accurate' mode?

   b _ clipping planes
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1058491568;start=0
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1052313604;start=0
   b _   things are flying into the camera and halting apps
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1042699742
   b _   NullPointerException apparently when things way offscreen
   b _     i.e. glyphrot with scale set to 4
   b _     or at least that things get ridiculously slow
   b _     clipping issues here.. but also something in scan converter
   b _     not clipping areas from offscreen
   b _       huge geometry slows things way down

   b _ picking
   b _   what is the API for picking?
   b _   ability to write data other than image into the buffer
   b _   user can introduce new kinds of buffers at will (!)
   b _   lists of names of objects, or the 'line number' buffer
   b _   but how to determine *where* on object the hit occurs

   1 _ points
   1 _   point() being funneled through beginShape is terribly slow
   1 _     go the other way 'round

   1 _ add option to sort triangles back to front so alpha works
   1 _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1076660476;start=0


CORE / PApplet runner

   b _ ed's thread re: fullscreen strategies
   b _   could add a new BApplet that uses BufferStrategy?
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Programs;action=display;num=1081335361;start=15


CORE / Details

   1 _ saveFrame() to a folder horks things up if a mkdirs() is required
   1 _   on macosx, this makes things hang; on windows it just complains
   1 _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081706752
   1 _ problems with defining fill(255) vs fill(0xff808080)
   1 _   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1083650609;start=0
   1 _   http://processing.org/discourse/yabb/YaBB.cgi?board=Syntax;action=display;num=1082481891;start=2
   1 _ what is the stroked version of a sphere? a circle?
   1 _ non-homogenous coloring for curve vertices
   1 _   properly interpolate
   1 _ too many push() will silently stop the applet inside a loop
   1 _ test winding polygons in different directions
   1 _ test lighting to see how it compares with gl
   1 _ better lockout inside beginShape() to keep other things from happening
   1 _ is quad strip broken or not behaving as expected?
   1 _   may be correct, it worked for nik
   1 _ inside draw() mode, delay() does nothing
   1 _   delay might be a good way to signal drawing to the screen/updating
   1 _ catch security exceptions around applet i/o calls
   1 _   not just for saving files, but provide better error msgs when
   1 _     attempting to download from another server
   1 _ alpha of zero still draws boogers on screen
   1 _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1073329613;start=0
   1 _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1080342288;start=0


CORE / Documentation

   1 _ write documentation on general use of processing.core
   1 _   along with how to download from sourceforge (anonpass is blank)
   1 _   note that applet is itself a Component


CODE / Mac OS X

   b _ still some weirdness with thread flickering on the mac
   b _   and frenetic display updates on the pc
   b _ little window showing up on macosx when running
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081284410
   b _ flicker happening on osx java 1.4, but not 1.3:
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1083184297;start=0
   b _ cursor() broken in applets on macosx?
   b _   or is it a java 1.4 versus java 1.3 problem?
   b _   http://processing.org/discourse/yabb/YaBB.cgi?board=Proce55ing_software_bugs;action=display;num=1081645955


CORE / Fonts

   b _ embed all available chars from a font, so japanese, etc works
   1 _ sbit font support
   1 _   both reading and building sbit fonts
   * _ mac -> vlw (or sbit?) font converter
   * _   need to also read the fond for metrics
   1 _ rotated text has a bug for when it goes offscreen
   1 _   patch rotated text (from visualclusto) into bfont


CORE / New Graphics
What the hell do we do with this code?

     _ stroke not set on flat_rect
     _ when drawing fonts w/ sami's code, left edge has problem
     _   8-bit (alpha) textures not blending 
     _ near-plane clipping currently disabled for triangles, enabled for lines
     _   (but culling offscreen triangles works.. but may have been
     _   commented out by carlos)
     _ hint(NEW_GRAPHICS) needs to be called before allocate()
     _   otherwise stencil buffer and 'triangle' object are null on first run
